import{_ as Xe,j as s,B as W,k as j,r as A,N as Ke,c as G,n as y,O as be,Q as Te,E as Q,T as Ve,U as Ze,V as ke,W as se,X as Oe,Y as ze,Z as Je,$ as je,a0 as z,a1 as Pe,a2 as ie,a3 as ce,a4 as De,q as Se,a5 as et,a6 as tt,u as le,a7 as rt,b as Ue,a8 as nt,p as de,a9 as at,C as Ne,a as ot,aa as st,ab as it,ac as ct,ad as lt}from"./index-02bb1b7a.js";import{t as I,s as J,C as ut,m as fe}from"./Modal.module-6ee2954c.js";import{Z as Me,a as me}from"./ZapAnimated-eb12a203.js";import{F as dt,p as ft,A as mt,I as ht}from"./Fab-d4498bc7.js";import{R as vt,T as xt}from"./TextFilter-5296b96b.js";import{r as w,t as D,g as ue,e as gt,h as pt,f as yt}from"./index-58de132a.js";import{R as wt}from"./rotate-cw-a0eef89d.js";import{T as he}from"./Toggle-210c6007.js";import{S as _t}from"./Select-6c321e60.js";import"./debounce-c1ba2006.js";function Ct(n,t){w(2,arguments);var e=D(n).getTime(),r=I(t);return new Date(e+r)}function bt(n){return w(1,arguments),n instanceof Date||Xe(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Tt(n){if(w(1,arguments),!bt(n)&&typeof n!="number")return!1;var t=D(n);return!isNaN(Number(t))}function kt(n,t){w(2,arguments);var e=I(t);return Ct(n,-e)}var Ot=864e5;function jt(n){w(1,arguments);var t=D(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/Ot)+1}function ee(n){w(1,arguments);var t=1,e=D(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function Ee(n){w(1,arguments);var t=D(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=ee(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var i=ee(o);return t.getTime()>=a.getTime()?e+1:t.getTime()>=i.getTime()?e:e-1}function Pt(n){w(1,arguments);var t=Ee(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=ee(e);return r}var Dt=6048e5;function St(n){w(1,arguments);var t=D(n),e=ee(t).getTime()-Pt(t).getTime();return Math.round(e/Dt)+1}function $e(n,t){var e,r,a,o,i,c,u,l;w(1,arguments);var h=D(n),v=h.getUTCFullYear(),x=ue(),m=I((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&r!==void 0?r:(u=x.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(v+1,0,m),f.setUTCHours(0,0,0,0);var b=J(f,t),_=new Date(0);_.setUTCFullYear(v,0,m),_.setUTCHours(0,0,0,0);var T=J(_,t);return h.getTime()>=b.getTime()?v+1:h.getTime()>=T.getTime()?v:v-1}function Ut(n,t){var e,r,a,o,i,c,u,l;w(1,arguments);var h=ue(),v=I((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&r!==void 0?r:(u=h.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&e!==void 0?e:1),x=$e(n,t),m=new Date(0);m.setUTCFullYear(x,0,v),m.setUTCHours(0,0,0,0);var f=J(m,t);return f}var Nt=6048e5;function Mt(n,t){w(1,arguments);var e=D(n),r=J(e,t).getTime()-Ut(e,t).getTime();return Math.round(r/Nt)+1}function d(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var Et={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return d(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):d(r+1,2)},d:function(t,e){return d(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return d(t.getUTCHours()%12||12,e.length)},H:function(t,e){return d(t.getUTCHours(),e.length)},m:function(t,e){return d(t.getUTCMinutes(),e.length)},s:function(t,e){return d(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return d(o,e.length)}};const E=Et;var q={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$t={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return E.y(t,e)},Y:function(t,e,r,a){var o=$e(t,a),i=o>0?o:1-o;if(e==="YY"){var c=i%100;return d(c,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):d(i,e.length)},R:function(t,e){var r=Ee(t);return d(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return d(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return d(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return d(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return E.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return d(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var o=Mt(t,a);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):d(o,e.length)},I:function(t,e,r){var a=St(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):d(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):E.d(t,e)},D:function(t,e,r){var a=jt(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):d(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var o=t.getUTCDay(),i=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return d(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var o=t.getUTCDay(),i=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return d(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return d(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),o;switch(a===12?o=q.noon:a===0?o=q.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),o;switch(a>=17?o=q.evening:a>=12?o=q.afternoon:a>=4?o=q.morning:o=q.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return E.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):E.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):d(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):d(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):E.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):E.s(t,e)},S:function(t,e){return E.S(t,e)},X:function(t,e,r,a){var o=a._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return xe(i);case"XXXX":case"XX":return L(i);case"XXXXX":case"XXX":default:return L(i,":")}},x:function(t,e,r,a){var o=a._originalDate||t,i=o.getTimezoneOffset();switch(e){case"x":return xe(i);case"xxxx":case"xx":return L(i);case"xxxxx":case"xxx":default:return L(i,":")}},O:function(t,e,r,a){var o=a._originalDate||t,i=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ve(i,":");case"OOOO":default:return"GMT"+L(i,":")}},z:function(t,e,r,a){var o=a._originalDate||t,i=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ve(i,":");case"zzzz":default:return"GMT"+L(i,":")}},t:function(t,e,r,a){var o=a._originalDate||t,i=Math.floor(o.getTime()/1e3);return d(i,e.length)},T:function(t,e,r,a){var o=a._originalDate||t,i=o.getTime();return d(i,e.length)}};function ve(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=r%60;if(o===0)return e+String(a);var i=t||"";return e+String(a)+i+d(o,2)}function xe(n,t){if(n%60===0){var e=n>0?"-":"+";return e+d(Math.abs(n)/60,2)}return L(n,t)}function L(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),o=d(Math.floor(a/60),2),i=d(a%60,2);return r+o+e+i}const Yt=$t;var ge=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ye=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lt=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return ge(t,e);var i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ge(a,e)).replace("{{time}}",Ye(o,e))},Wt={p:Ye,P:Lt};const qt=Wt;var Ft=["D","DD"],At=["YY","YYYY"];function It(n){return Ft.indexOf(n)!==-1}function Bt(n){return At.indexOf(n)!==-1}function pe(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Rt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ht=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gt=/^'([^]*?)'?$/,Qt=/''/g,Xt=/[a-zA-Z]/;function Kt(n,t,e){var r,a,o,i,c,u,l,h,v,x,m,f,b,_,T,S,$,k;w(2,arguments);var U=String(t),g=ue(),C=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:g.locale)!==null&&r!==void 0?r:gt,O=I((o=(i=(c=(u=e==null?void 0:e.firstWeekContainsDate)!==null&&u!==void 0?u:e==null||(l=e.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&c!==void 0?c:g.firstWeekContainsDate)!==null&&i!==void 0?i:(v=g.locale)===null||v===void 0||(x=v.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Y=I((m=(f=(b=(_=e==null?void 0:e.weekStartsOn)!==null&&_!==void 0?_:e==null||(T=e.locale)===null||T===void 0||(S=T.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&b!==void 0?b:g.weekStartsOn)!==null&&f!==void 0?f:($=g.locale)===null||$===void 0||(k=$.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&m!==void 0?m:0);if(!(Y>=0&&Y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var N=D(n);if(!Tt(N))throw new RangeError("Invalid time value");var te=pt(N),He=kt(N,te),Ge={firstWeekContainsDate:O,weekStartsOn:Y,locale:C,_originalDate:N},Qe=U.match(Ht).map(function(p){var M=p[0];if(M==="p"||M==="P"){var X=qt[M];return X(p,C.formatLong)}return p}).join("").match(Rt).map(function(p){if(p==="''")return"'";var M=p[0];if(M==="'")return Vt(p);var X=Yt[M];if(X)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Bt(p)&&pe(p,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&It(p)&&pe(p,t,String(n)),X(He,p,C.localize,Ge);if(M.match(Xt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return p}).join("");return Qe}function Vt(n){var t=n.match(Gt);return t?t[1].replace(Qt,"'"):n}const Zt="_FlexCenter_1380a_1",zt={FlexCenter:Zt};function Jt({children:n}){return s.jsx("div",{className:zt.FlexCenter,children:n})}const{useRef:ye,useEffect:er}=j;function tr({onClickPrimaryButton:n,onClickSecondaryButton:t}){const e=ye(null),r=ye(null);er(()=>{e.current.focus()},[]);const a=o=>{o.code==="ArrowRight"?r.current.focus():o.code==="ArrowLeft"&&e.current.focus()};return s.jsxs("div",{onKeyDown:a,children:[s.jsx("h2",{children:"Close Connections?"}),s.jsx("p",{children:"Click [Yes] to close those connections that are still using the old selected proxy in this group"}),s.jsx("div",{style:{height:30}}),s.jsxs(Jt,{children:[s.jsx(W,{onClick:n,ref:e,children:"Yes"}),s.jsx("div",{style:{width:20}}),s.jsx(W,{onClick:t,ref:r,children:"No"})]})]})}const rr="_header_1y9js_1",nr="_arrow_1y9js_8",ar="_isOpen_1y9js_13",or="_btn_1y9js_20",sr="_qty_1y9js_25",B={header:rr,arrow:nr,isOpen:ar,btn:or,qty:sr};function Le({name:n,type:t,toggle:e,isOpen:r,qty:a}){const o=A.useCallback(i=>{i.preventDefault(),(i.key==="Enter"||i.key===" ")&&e()},[e]);return s.jsxs("div",{className:B.header,onClick:e,style:{cursor:"pointer"},tabIndex:0,onKeyDown:o,role:"button",children:[s.jsx("div",{children:s.jsx(Ke,{name:n,type:t})}),typeof a=="number"?s.jsx("span",{className:B.qty,children:a}):null,s.jsx(W,{kind:"minimal",onClick:e,className:B.btn,title:"Toggle collapsible section",children:s.jsx("span",{className:G(B.arrow,{[B.isOpen]:r}),children:s.jsx(ut,{size:20})})})]})}const{useMemo:ir}=j;function cr(n,t){return n.filter(e=>{const r=t[e];return r===void 0?!0:!("number"in r&&r.number===0)})}const K=(n,t)=>{if(n&&"number"in n&&n.number>0)return n.number;const e=t&&t.type;return e&&Te.indexOf(e)>-1?-1:999999},lr={Natural:n=>n,LatencyAsc:(n,t,e)=>n.sort((r,a)=>{const o=K(t[r],e&&e[r]),i=K(t[a],e&&e[a]);return o-i}),LatencyDesc:(n,t,e)=>n.sort((r,a)=>{const o=K(t[r],e&&e[r]);return K(t[a],e&&e[a])-o}),NameAsc:n=>n.sort(),NameDesc:n=>n.sort((t,e)=>t>e?-1:t<e?1:0)};function ur(n,t){const e=t.toLowerCase().split(" ").map(r=>r.trim()).filter(r=>!!r);return e.length===0?n:n.filter(r=>{let a=0;for(;a<e.length;a++){const o=e[a];if(r.toLowerCase().indexOf(o)>-1)return!0}return!1})}function dr(n,t,e,r,a,o){let i=[...n];return e&&(i=cr(n,t)),typeof r=="string"&&r!==""&&(i=ur(i,r)),lr[a](i,t,o)}function We(n,t,e,r,a){const[o]=y(be);return ir(()=>dr(n,t,e,o,r,a),[n,t,e,o,r,a])}const fr="_header_5pmv2_1",mr="_groupHead_5pmv2_5",hr="_action_5pmv2_11",re={header:fr,groupHead:mr,action:hr},vr="_proxy_cs5sn_1",xr="_now_cs5sn_27",gr="_error_cs5sn_31",pr="_selectable_cs5sn_34",yr="_proxyType_cs5sn_42",wr="_row_cs5sn_53",_r="_proxyName_cs5sn_59",Cr="_proxySmall_cs5sn_68",P={proxy:vr,now:xr,error:gr,selectable:pr,proxyType:yr,row:wr,proxyName:_r,proxySmall:Cr},br="_proxyLatency_pw0sa_1",Tr={proxyLatency:br};function kr({latency:n,color:t}){let e=" ";if(n)switch(n.kind){case"Error":case"Testing":e="- ms";break;case"Result":e=(n.number!==0?n.number:"-")+" ms";break}return s.jsx("span",{className:Tr.proxyLatency,style:{color:t},children:e})}const{useMemo:H}=j,F={good:"#67c23a",normal:"#d4b75c",bad:"#e67f3c",na:"#909399"};function qe(n){if(!n||n.kind!=="Result")return F.na;const t=n.number;return t===0?F.na:t<200?F.good:t<400?F.normal:typeof t=="number"?F.bad:F.na}function Or(n,t){return Te.indexOf(t)>-1?{border:"1px dotted #777"}:{background:qe(n)}}function jr({now:n,name:t,proxy:e,latency:r,isSelectable:a,onClick:o}){const i=H(()=>Or(r,e.type),[r,e]),c=H(()=>{let v=t;return r&&r.kind==="Result"&&typeof r.number=="number"&&(v+=" "+r.number+" ms"),v},[t,r]),u=A.useCallback(()=>{a&&o&&o(t)},[t,o,a]),l=H(()=>G(P.proxySmall,{[P.now]:n,[P.selectable]:a}),[a,n]),h=A.useCallback(v=>{v.key==="Enter"&&u()},[u]);return s.jsx("div",{title:c,className:l,style:i,onClick:u,onKeyDown:h,role:a?"menuitem":""})}function Pr(n){return n==="Shadowsocks"?"SS":n}const Dr=n=>({left:n.left+window.scrollX-5,top:n.top+window.scrollY-38});function Sr({children:n,label:t,"aria-label":e}){const[r,a]=Ve();return s.jsxs(s.Fragment,{children:[A.cloneElement(n,r),s.jsx(Ze,{...a,label:t,"aria-label":e,position:Dr})]})}function Ur({now:n,name:t,proxy:e,latency:r,isSelectable:a,onClick:o}){const i=H(()=>qe(r),[r]),c=A.useCallback(()=>{a&&o&&o(t)},[t,o,a]),u=A.useCallback(h=>{h.key==="Enter"&&c()},[c]),l=H(()=>G(P.proxy,{[P.now]:n,[P.selectable]:a}),[a,n]);return s.jsxs("div",{tabIndex:0,className:l,onClick:c,onKeyDown:u,role:a?"menuitem":"",children:[s.jsx("div",{className:P.proxyName,children:s.jsx(Sr,{label:t,"aria-label":"proxy name: "+t,children:s.jsx("span",{children:t})})}),s.jsxs("div",{className:P.row,children:[s.jsx("span",{className:P.proxyType,style:{opacity:n?.6:.2},children:Pr(e.type)}),s.jsx(kr,{latency:r,color:i})]})]})}const Fe=(n,{name:t})=>{const e=ke(n),r=se(n);return{proxy:e[t]||{name:t,type:"Unknown",history:[]},latency:r[t]}},Nr=Q(Fe)(Ur),Mr=Q(Fe)(jr),Er="_list_1oy7w_1",$r="_listSummaryView_1oy7w_8",Ae={list:Er,listSummaryView:$r};function Ie({all:n,now:t,isSelectable:e,itemOnTapCallback:r}){const a=n;return s.jsx("div",{className:Ae.list,children:a.map(o=>s.jsx(Nr,{onClick:r,isSelectable:e,name:o,now:o===t},o))})}function Be({all:n,now:t,isSelectable:e,itemOnTapCallback:r}){return s.jsx("div",{className:Ae.listSummaryView,children:n.map(a=>s.jsx(Mr,{onClick:r,isSelectable:e,name:a,now:a===t},a))})}const{createElement:Yr,useCallback:V,useMemo:Lr}=j;function Wr({name:n,all:t,delay:e,proxies:r,type:a,now:o,apiConfig:i,dispatch:c}){const[u,l]=y(Pe),h=u[`proxyGroup:${n}`],[v]=y(ie),[x]=y(ce),m=We(t,e,x,v,r),f=Lr(()=>a==="Selector",[a]),{proxies:{requestDelayForProxies:b}}=Oe(),_=V((O,Y,N)=>{l(te=>({...te,[`${O}:${Y}`]:N}))},[l]),T=V(()=>{_("proxyGroup",n,!h)},[h,_,n]),[S]=y(De),$=V(O=>{f&&c(ze(i,n,O,S))},[i,c,n,f,S]),[k]=y(Se),U=Je(),g=je(!1),C=V(async()=>{if(!g.value){g.set(!0);try{await b(i,m,k,U.plus_pro)}catch{}g.set(!1)}},[m,i,b,g,k,U.plus_pro]);return s.jsxs("div",{className:re.group,children:[s.jsxs("div",{className:re.groupHead,children:[s.jsx(Le,{name:n,type:a,toggle:T,qty:m.length,isOpen:h}),s.jsx("div",{className:re.action,children:s.jsx(z,{label:"Test latency",children:s.jsx(W,{kind:"circular",onClick:C,children:s.jsx(Me,{animate:g.value,size:16})})})})]}),Yr(h?Ie:Be,{all:m,now:o,isSelectable:f,itemOnTapCallback:$})]})}const qr=Q((n,{name:t,delay:e})=>{const r=ke(n),a=r[t],{all:o,type:i,now:c}=a;return{all:o,delay:e,proxies:r,type:i,now:c}})(Wr),{useCallback:Re,useState:Fr}=j;function Ar({dispatch:n,apiConfig:t,name:e}){return Re(()=>n(et(t,e)),[t,n,e])}function Ir({dispatch:n,apiConfig:t,names:e}){const[r,a]=Fr(!1);return[Re(async()=>{if(!r){a(!0);try{await n(tt(t,e))}catch{}a(!1)}},[t,n,e,r]),r]}const{useState:Br,useCallback:Rr}=j;function Hr({isLoading:n}){return n?s.jsx(ht,{children:s.jsx(me,{width:16,height:16})}):s.jsx(me,{width:16,height:16})}function Gr({dispatch:n,apiConfig:t}){const[e,r]=Br(!1),[a]=y(Se);return[Rr(()=>{e||(r(!0),n(rt(t,a)).then(()=>r(!1),()=>r(!1)))},[t,n,e,a]),e]}function Qr({dispatch:n,apiConfig:t,proxyProviders:e}){const{t:r}=le(),[a,o]=Gr({dispatch:n,apiConfig:t}),[i,c]=Ir({apiConfig:t,dispatch:n,names:e.map(u=>u.name)});return s.jsx(dt,{icon:s.jsx(Hr,{isLoading:o}),onClick:a,text:r("Test Latency"),style:ft,children:e.length>0?s.jsx(mt,{text:r("update_all_proxy_provider"),onClick:i,children:s.jsx(vt,{isRotating:c})}):null})}const Xr="_updatedAt_rkqra_1",Kr="_main_rkqra_9",Vr="_head_rkqra_18",Zr="_action_rkqra_24",zr="_refresh_rkqra_32",R={updatedAt:Xr,main:Kr,head:Vr,action:Zr,refresh:zr},{useCallback:ne}=j;function Jr({name:n,proxies:t,delay:e,vehicleType:r,updatedAt:a,subscription:o,dispatch:i}){const[c,u]=y(Pe),l=c[`proxyProvider:${n}`],[h]=y(ie),[v]=y(ce),x=Ue(),m=We(t,e,v,h),f=je(!1),b=Ar({dispatch:i,apiConfig:x,name:n}),_=ne(()=>{if(f.value)return;f.set(!0);const C=()=>f.set(!1);i(nt(x,n)).then(C,C)},[x,i,n,f]),T=ne((C,O,Y)=>{u(N=>({...N,[`${C}:${O}`]:Y}))},[u]),S=ne(()=>{T("proxyProvider",n,!l)},[l,T,n]),$=yt(new Date(a),new Date),k=o==null?void 0:o.total,U=o==null?void 0:o.expire,g=U&&U>0?Kt(U*1e3,"yyyy-MM-dd"):"";return s.jsxs("div",{className:R.main,children:[s.jsxs("div",{className:R.head,children:[s.jsx(Le,{name:n,toggle:S,type:r,isOpen:l,qty:m.length}),s.jsxs("div",{className:R.action,children:[s.jsx(z,{label:"Update",children:s.jsx(W,{kind:"circular",onClick:b,children:s.jsx(rn,{})})}),s.jsx(z,{label:"Health Check",children:s.jsx(W,{kind:"circular",onClick:_,children:s.jsx(Me,{animate:f.value,size:16})})})]})]}),s.jsxs("div",{className:R.updatedAt,children:[s.jsxs("small",{children:["Updated ",$," ago"]}),k&&k>0?s.jsxs("small",{children:[de((o==null?void 0:o.upload)+(o==null?void 0:o.download))," / ",de(k)," ",g]}):null]}),l?s.jsx(Ie,{all:m}):s.jsx(Be,{all:m})]})}const en={rest:{scale:1},pressed:{scale:.95}},tn={rest:{rotate:0},hover:{rotate:360,transition:{duration:.3}}};function rn(){const t=at.read().motion;return s.jsx(t.div,{className:R.refresh,variants:en,initial:"rest",whileHover:"hover",whileTap:"pressed",children:s.jsx(t.div,{className:"flexCenter",variants:tn,children:s.jsx(wt,{size:16})})})}const nn=(n,{proxies:t})=>{const e=se(n);return{proxies:t,delay:e}},an=Q(nn)(Jr);function on({items:n}){return n.length===0?null:s.jsxs(s.Fragment,{children:[s.jsx(Ne,{title:"Proxy Provider"}),s.jsx("div",{children:n.map(t=>s.jsx(an,{name:t.name,proxies:t.proxies,type:t.type,vehicleType:t.vehicleType,updatedAt:t.updatedAt,subscription:t.subscription},t.name))})]})}const sn="_labeledInput_cmki0_1",ae={labeledInput:sn},cn=[["Natural","order_natural"],["LatencyAsc","order_latency_asc"],["LatencyDesc","order_latency_desc"],["NameAsc","order_name_asc"],["NameDesc","order_name_desc"]],{useCallback:we}=j;function ln(){const[n,t]=y(De),[e,r]=y(ie),[a,o]=y(ce),i=we(l=>r(l.target.value),[r]),c=we(l=>{o(l)},[o]),{t:u}=le();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ae.labeledInput,children:[s.jsx("span",{children:u("sort_in_grp")}),s.jsx("div",{children:s.jsx(_t,{options:cn.map(l=>[l[0],u(l[1])]),selected:e,onChange:i})})]}),s.jsx("hr",{}),s.jsxs("div",{className:ae.labeledInput,children:[s.jsx("label",{htmlFor:"hideUnavailableProxies",children:u("hide_unavail_proxies")}),s.jsx("div",{children:s.jsx(he,{id:"hideUnavailableProxies",checked:a,onChange:c})})]}),s.jsxs("div",{className:ae.labeledInput,children:[s.jsx("label",{htmlFor:"autoCloseOldConns",children:u("auto_close_conns")}),s.jsx("div",{children:s.jsx(he,{id:"autoCloseOldConns",checked:n,onChange:t})})]})]})}const un="_overlay_uuk3b_1",dn="_cnt_uuk3b_5",fn="_afterOpen_uuk3b_16",oe={overlay:un,cnt:dn,afterOpen:fn},{useMemo:mn}=j;function _e({isOpen:n,onRequestClose:t,children:e}){const r=mn(()=>({base:G(fe.content,oe.cnt),afterOpen:oe.afterOpen,beforeClose:""}),[]);return s.jsx(ot,{isOpen:n,onRequestClose:t,className:r,overlayClassName:G(fe.overlay,oe.overlay),children:e})}function hn({color:n="currentColor",size:t=24}){return s.jsxs("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t,stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 6h9M18.5 6H22"}),s.jsx("circle",{cx:"16",cy:"6",r:"2"}),s.jsx("path",{d:"M22 18h-9M6 18H2"}),s.jsx("circle",{r:"2",transform:"matrix(-1 0 0 1 8 18)"})]})}const vn="_topBar_16fpp_1",xn="_topBarRight_16fpp_13",gn="_textFilterContainer_16fpp_22",pn="_group_16fpp_29",Z={topBar:vn,topBarRight:xn,textFilterContainer:gn,group:pn},{useState:yn,useEffect:wn,useCallback:Ce,useRef:_n}=j;function Cn({dispatch:n,groupNames:t,delay:e,proxyProviders:r,showModalClosePrevConns:a}){const o=Ue(),i=_n({}),c=Ce(()=>{i.current.startAt=Date.now(),n(st(o)).then(()=>{i.current.completeAt=Date.now()})},[o,n]);wn(()=>{c();const f=()=>{i.current.startAt&&Date.now()-i.current.startAt>3e4&&c()};return window.addEventListener("focus",f,!1),()=>window.removeEventListener("focus",f,!1)},[c]);const[u,l]=yn(!1),h=Ce(()=>{l(!1)},[]),{proxies:{closeModalClosePrevConns:v,closePrevConnsAndTheModal:x}}=Oe(),{t:m}=le();return s.jsxs(s.Fragment,{children:[s.jsx(_e,{isOpen:u,onRequestClose:h,children:s.jsx(ln,{})}),s.jsxs("div",{className:Z.topBar,children:[s.jsx(Ne,{title:m("Proxies")}),s.jsxs("div",{className:Z.topBarRight,children:[s.jsx("div",{className:Z.textFilterContainer,children:s.jsx(xt,{textAtom:be})}),s.jsx(z,{label:m("settings"),children:s.jsx(W,{kind:"minimal",onClick:()=>l(!0),children:s.jsx(hn,{size:16})})})]})]}),s.jsx("div",{children:t.map(f=>s.jsx("div",{className:Z.group,children:s.jsx(qr,{name:f,delay:e,apiConfig:o,dispatch:n})},f))}),s.jsx(on,{items:r}),s.jsx("div",{style:{height:60}}),s.jsx(Qr,{dispatch:n,apiConfig:o,proxyProviders:r}),s.jsx(_e,{isOpen:a,onRequestClose:v,children:s.jsx(tr,{onClickPrimaryButton:()=>x(o),onClickSecondaryButton:v})})]})}const bn=n=>({groupNames:it(n),proxyProviders:ct(n),delay:se(n),showModalClosePrevConns:lt(n)}),En=Q(bn)(Cn);export{En as default};
